@using BikeCommunitySite.Models;
@model Sakura.AspNetCore.IPagedList<BikeCommunitySite.Models.DestinationModel.Place>

@if (Model != null && Model.TotalPage > 0)
{
    <script>
        var myDiv = $('#description');
        myDiv.text(myDiv.text().substring(0, 200));
    </script>

    @foreach (var place in Model)
    {
        @foreach (var act in place.activities)
        {
            <div class="row">
                <div class="box">
                    <div class="col-lg-12">
                        <div class="intro-text text-center">
                            @place.name
                            <strong>@act.rank</strong>
                        </div>
                        <div class="col-md-6">
                            @if (act.thumbnail!=null)
                            {
                                <img class="img-responsive img-border-left"
                                     src="@act.thumbnail" alt="">
                            }
                            else
                            {
                                <img class="img-responsive img-border-left"
                                     src="~/images/destinationsIcon.png" alt="">
                            }
                        </div>
                        <div class="col-md-6">
                            <p>Description:</p>
                            <p id="description">@place.description</p>
                            <p><a href="@Url.Action("DestinationDetails", "Place", new DestinationModel.Place { lat = place.lat, lon = place.lon, city = place.city })" class="btn btn-primary" role="button">Details</a></p>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        }
    }
}